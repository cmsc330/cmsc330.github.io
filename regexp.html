<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<<<<<<< HEAD
<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><meta name="viewport" content="width=device-width, initial-scale=0.8"/><title>4&nbsp;OCaml Regular Expressions</title><link rel="stylesheet" type="text/css" href="scribble.css" title="default"/><link rel="stylesheet" type="text/css" href="racket.css" title="default"/><link rel="stylesheet" type="text/css" href="manual-style.css" title="default"/><link rel="stylesheet" type="text/css" href="manual-racket.css" title="default"/><link rel="stylesheet" type="text/css" href="extra.css" title="default"/><link rel="stylesheet" type="text/css" href="fancyverb.css" title="default"/><script type="text/javascript" src="scribble-common.js"></script><script type="text/javascript" src="manual-racket.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="scribble-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist tocviewlisttopspace"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9660;</a></td><td></td><td><a href="index.html" class="tocviewlink" data-pltdoc="x">CMSC 330 Lecture Notes</a></td></tr></table></div><div class="tocviewsublisttop" style="display: block;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right">1&nbsp;</td><td><a href="ocaml.html" class="tocviewlink" data-pltdoc="x">Functional Programming with OCaml</a></td></tr><tr><td align="right">2&nbsp;</td><td><a href="Imperative_OCaml.html" class="tocviewlink" data-pltdoc="x">Imperative Programming with OCaml</a></td></tr><tr><td align="right">3&nbsp;</td><td><a href="pbt.html" class="tocviewlink" data-pltdoc="x">Property-<wbr></wbr>Based Randomized Testing</a></td></tr><tr><td align="right">4&nbsp;</td><td><a href="" class="tocviewselflink" data-pltdoc="x">OCaml Regular Expressions</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_1&quot;);">&#9658;</a></td><td>4&nbsp;</td><td><a href="" class="tocviewselflink" data-pltdoc="x">OCaml Regular Expressions</a></td></tr></table><div class="tocviewsublistbottom" style="display: none;" id="tocview_1"><table cellspacing="0" cellpadding="0"><tr><td align="right">4.1&nbsp;</td><td><a href="#%28part._.What_.Are_.Regular_.Expressions_%29" class="tocviewlink" data-pltdoc="x">What Are Regular Expressions?</a></td></tr><tr><td align="right">4.2&nbsp;</td><td><a href="#%28part._.Basic_.Concepts%29" class="tocviewlink" data-pltdoc="x">Basic Concepts</a></td></tr><tr><td align="right">4.3&nbsp;</td><td><a href="#%28part._.Extracting_.Substrings_with_.Capturing_.Groups%29" class="tocviewlink" data-pltdoc="x">Extracting Substrings with Capturing Groups</a></td></tr></table></div></div></div><div class="tocsub"><div class="tocsubtitle">On this page:</div><table class="tocsublist" cellspacing="0"><tr><td><span class="tocsublinknumber">4.1<tt>&nbsp;</tt></span><a href="#%28part._.What_.Are_.Regular_.Expressions_%29" class="tocsubseclink" data-pltdoc="x">What Are Regular Expressions?</a></td></tr><tr><td><span class="tocsublinknumber">4.2<tt>&nbsp;</tt></span><a href="#%28part._.Basic_.Concepts%29" class="tocsubseclink" data-pltdoc="x">Basic Concepts</a></td></tr><tr><td><span class="tocsublinknumber">4.2.1<tt>&nbsp;</tt></span><a href="#%28part._.Repetition_in_.Regular_.Expressions%29" class="tocsubseclink" data-pltdoc="x">Repetition in Regular Expressions</a></td></tr><tr><td><span class="tocsublinknumber">4.2.2<tt>&nbsp;</tt></span><a href="#%28part._.Character_.Classes%29" class="tocsubseclink" data-pltdoc="x">Character Classes</a></td></tr><tr><td><span class="tocsublinknumber">4.2.3<tt>&nbsp;</tt></span><a href="#%28part._.Summary_of_.Regular_.Expression_.Syntax%29" class="tocsubseclink" data-pltdoc="x">Summary of Regular Expression Syntax</a></td></tr><tr><td><span class="tocsublinknumber">4.2.4<tt>&nbsp;</tt></span><a href="#%28part._.Regular_.Expression_.Practice_.Problems%29" class="tocsubseclink" data-pltdoc="x">Regular Expression Practice Problems</a></td></tr><tr><td><span class="tocsublinknumber">4.2.5<tt>&nbsp;</tt></span><a href="#%28part._.Basic_.Functions%29" class="tocsubseclink" data-pltdoc="x">Basic Functions</a></td></tr><tr><td><span class="tocsublinknumber">4.3<tt>&nbsp;</tt></span><a href="#%28part._.Extracting_.Substrings_with_.Capturing_.Groups%29" class="tocsubseclink" data-pltdoc="x">Extracting Substrings with Capturing Groups</a></td></tr></table></div></div><div class="maincolumn"><div class="main"><div class="versionbox"><span class="version">8.17</span></div><div class="navsettop"><span class="navleft"><div class="nosearchform"></div>&nbsp;&nbsp;<span class="tocsettoggle">&nbsp;&nbsp;<a href="javascript:void(0);" title="show/hide table of contents" onclick="TocsetToggle();">contents</a></span></span><span class="navright">&nbsp;&nbsp;<a href="pbt.html" title="backward to &quot;3 Property-Based Randomized Testing&quot;" data-pltdoc="x" rel="prev">&larr; prev</a>&nbsp;&nbsp;<a href="index.html" title="up to &quot;CMSC 330 Lecture Notes&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<span class="nonavigation">next &rarr;</span></span>&nbsp;</div><h3 class="heading">4<tt>&nbsp;</tt><a name="(part._regexp)"></a>OCaml Regular Expressions<span class="button-group"><a href="#(part._regexp)" class="heading-anchor" title="Link to here">ðŸ”—</a><span style="visibility: hidden"> </span></span></h3><p><div class="SIntrapara"><blockquote class="refpara"><blockquote class="refcolumn"><blockquote class="refcontent"><p><a href="code/regex.zip">Example Code</a></p></blockquote></blockquote></blockquote></div><div class="SIntrapara">The String module in OCaml provides many useful functions for manipulating strings, including:
=======
<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><meta name="viewport" content="width=device-width, initial-scale=0.8"/><title>4&nbsp;OCaml Regular Expressions</title><link rel="stylesheet" type="text/css" href="scribble.css" title="default"/><link rel="stylesheet" type="text/css" href="racket.css" title="default"/><link rel="stylesheet" type="text/css" href="manual-style.css" title="default"/><link rel="stylesheet" type="text/css" href="manual-racket.css" title="default"/><link rel="stylesheet" type="text/css" href="extra.css" title="default"/><link rel="stylesheet" type="text/css" href="fancyverb.css" title="default"/><script type="text/javascript" src="scribble-common.js"></script><script type="text/javascript" src="manual-racket.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="scribble-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist tocviewlisttopspace"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9660;</a></td><td></td><td><a href="index.html" class="tocviewlink" data-pltdoc="x">CMSC 330 Lecture Notes</a></td></tr></table></div><div class="tocviewsublisttop" style="display: block;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right">1&nbsp;</td><td><a href="ocaml.html" class="tocviewlink" data-pltdoc="x">Functional Programming with OCaml</a></td></tr><tr><td align="right">2&nbsp;</td><td><a href="Imperative_OCaml.html" class="tocviewlink" data-pltdoc="x">Imperative Programming with OCaml</a></td></tr><tr><td align="right">3&nbsp;</td><td><a href="pbt.html" class="tocviewlink" data-pltdoc="x">Property-<wbr></wbr>Based Randomized Testing</a></td></tr><tr><td align="right">4&nbsp;</td><td><a href="" class="tocviewselflink" data-pltdoc="x">OCaml Regular Expressions</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_1&quot;);">&#9658;</a></td><td>4&nbsp;</td><td><a href="" class="tocviewselflink" data-pltdoc="x">OCaml Regular Expressions</a></td></tr></table><div class="tocviewsublistbottom" style="display: none;" id="tocview_1"><table cellspacing="0" cellpadding="0"><tr><td align="right">4.1&nbsp;</td><td><a href="#%28part._.What_.Are_.Regular_.Expressions_%29" class="tocviewlink" data-pltdoc="x">What Are Regular Expressions?</a></td></tr><tr><td align="right">4.2&nbsp;</td><td><a href="#%28part._.Basic_.Concepts%29" class="tocviewlink" data-pltdoc="x">Basic Concepts</a></td></tr><tr><td align="right">4.3&nbsp;</td><td><a href="#%28part._.The_.Re_.Library%29" class="tocviewlink" data-pltdoc="x">The Re Library</a></td></tr><tr><td align="right">4.4&nbsp;</td><td><a href="#%28part._.Extracting_.Substrings_with_.Capturing_.Groups%29" class="tocviewlink" data-pltdoc="x">Extracting Substrings with Capturing Groups</a></td></tr></table></div></div></div><div class="tocsub"><div class="tocsubtitle">On this page:</div><table class="tocsublist" cellspacing="0"><tr><td><span class="tocsublinknumber">4.1<tt>&nbsp;</tt></span><a href="#%28part._.What_.Are_.Regular_.Expressions_%29" class="tocsubseclink" data-pltdoc="x">What Are Regular Expressions?</a></td></tr><tr><td><span class="tocsublinknumber">4.2<tt>&nbsp;</tt></span><a href="#%28part._.Basic_.Concepts%29" class="tocsubseclink" data-pltdoc="x">Basic Concepts</a></td></tr><tr><td><span class="tocsublinknumber">4.2.1<tt>&nbsp;</tt></span><a href="#%28part._.Repetition_in_.Regular_.Expressions%29" class="tocsubseclink" data-pltdoc="x">Repetition in Regular Expressions</a></td></tr><tr><td><span class="tocsublinknumber">4.2.2<tt>&nbsp;</tt></span><a href="#%28part._.Character_.Classes%29" class="tocsubseclink" data-pltdoc="x">Character Classes</a></td></tr><tr><td><span class="tocsublinknumber">4.2.3<tt>&nbsp;</tt></span><a href="#%28part._.Summary_of_.Regular_.Expression_.Syntax%29" class="tocsubseclink" data-pltdoc="x">Summary of Regular Expression Syntax</a></td></tr><tr><td><span class="tocsublinknumber">4.2.4<tt>&nbsp;</tt></span><a href="#%28part._.Regular_.Expression_.Practice_.Problems%29" class="tocsubseclink" data-pltdoc="x">Regular Expression Practice Problems</a></td></tr><tr><td><span class="tocsublinknumber">4.3<tt>&nbsp;</tt></span><a href="#%28part._.The_.Re_.Library%29" class="tocsubseclink" data-pltdoc="x">The Re Library</a></td></tr><tr><td><span class="tocsublinknumber">4.3.1<tt>&nbsp;</tt></span><a href="#%28part._.Basic_.Functions%29" class="tocsubseclink" data-pltdoc="x">Basic Functions</a></td></tr><tr><td><span class="tocsublinknumber">4.4<tt>&nbsp;</tt></span><a href="#%28part._.Extracting_.Substrings_with_.Capturing_.Groups%29" class="tocsubseclink" data-pltdoc="x">Extracting Substrings with Capturing Groups</a></td></tr></table></div></div><div class="maincolumn"><div class="main"><div class="versionbox"><span class="version">8.17</span></div><div class="navsettop"><span class="navleft"><div class="nosearchform"></div>&nbsp;&nbsp;<span class="tocsettoggle">&nbsp;&nbsp;<a href="javascript:void(0);" title="show/hide table of contents" onclick="TocsetToggle();">contents</a></span></span><span class="navright">&nbsp;&nbsp;<a href="pbt.html" title="backward to &quot;3 Property-Based Randomized Testing&quot;" data-pltdoc="x" rel="prev">&larr; prev</a>&nbsp;&nbsp;<a href="index.html" title="up to &quot;CMSC 330 Lecture Notes&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<span class="nonavigation">next &rarr;</span></span>&nbsp;</div><h3 class="heading">4<tt>&nbsp;</tt><a name="(part._regexp)"></a>OCaml Regular Expressions<span class="button-group"><a href="#(part._regexp)" class="heading-anchor" title="Link to here">ðŸ”—</a><span style="visibility: hidden"> </span></span></h3><p><div class="SIntrapara"><blockquote class="refpara"><blockquote class="refcolumn"><blockquote class="refcontent"><p><a href="code/regex.zip">Example Code</a></p></blockquote></blockquote></blockquote></div><div class="SIntrapara">The String module in OCaml provides many useful functions for manipulating strings, including:
>>>>>>> 624ad17de14471c1b569303ac1b34cc22effdada
</div><div class="SIntrapara"><ul><li><p>Concatenating two strings</p></li><li><p>Extracting substrings</p></li><li><p>Searching for substrings and replacing them with something else</p></li></ul></div></p><h4 class="heading">4.1<tt>&nbsp;</tt><a name="(part._.What_.Are_.Regular_.Expressions_)"></a>What Are Regular Expressions?<span class="button-group"><a href="#(part._.What_.Are_.Regular_.Expressions_)" class="heading-anchor" title="Link to here">ðŸ”—</a><span style="visibility: hidden"> </span></span></h4><p><div class="SIntrapara">A regular expression is a pattern that describes a set of strings. Regular expressions are useful for:
</div><div class="SIntrapara"><ul><li><p>Searching and matching text</p></li><li><p>Formally describing strings</p></li><li><p>Defining the symbols (lexemes or tokens) that make up a language</p></li></ul></div></p><p>Regular expressions are common across many languages and tools, including sed, grep,
awk, Perl, Python, and Ruby. They were popularized (and made fast) as a language feature in Perl and are based on elegant theoretical foundations that we will cover in a future lecture.</p><p><div class="SIntrapara">There exist multiple Regexp libraries. Most common one are RE and Str.
</div><div class="SIntrapara"><ul><li><p>RE: a pure OCaml regular expressions library that supports several formats (glob, posix, str&#8230;)
In this lecture, we will use the posix format of the RE library</p></li><li><p>Str: OCaml comes with the Str module.
This module is not recommended because it is not particularly fast
It does not support Unicode</p></li></ul></div></p><p><div class="SIntrapara">Here is a basic example that uses the RE library.
</div><div class="SIntrapara"><blockquote class="Rfilebox"><p class="Rfiletitle"><span class="Rfilename"><span class="emph">OCaml REPL</span></span></p><blockquote class="Rfilecontent"><p><div class="sourceCode" id="cb1"><pre
class="sourceCode ocaml"><code class="sourceCode ocaml"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="ot">#require &quot;re&quot;;; (* only needed in utop *) </span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a> <span class="kw">let</span> str2re t = Re.Posix.compile (Re.Posix.re t);; </span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a> <span class="kw">let</span> r = str2re <span class="st">&quot;[a-z][0-9]+&quot;</span>;; </span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a> <span class="co">(* The pattern r matches strings that starts with a letter </span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="co"> followed by one or more digits *)</span> </span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a> Re.matches r <span class="st">&quot;a12#b22abcd&quot;</span>;; </span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a> ;;</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a># # <span class="kw">val</span> str2re : <span class="dt">string</span> -&gt; Re__.Core.re = &lt;<span class="kw">fun</span>&gt;</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a># <span class="kw">val</span> r : Re__.Core.re = &lt;abstr&gt;</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a># - : <span class="dt">string</span> <span class="dt">list</span> = [<span class="st">&quot;a12&quot;</span>; <span class="st">&quot;b22&quot;</span>]</span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a># </span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a></span></code></pre></div>
</p></blockquote></blockquote></div></p><h4 class="heading">4.2<tt>&nbsp;</tt><a name="(part._.Basic_.Concepts)"></a>Basic Concepts<span class="button-group"><a href="#(part._.Basic_.Concepts)" class="heading-anchor" title="Link to here">ðŸ”—</a><span style="visibility: hidden"> </span></span></h4><p><div class="SIntrapara">Regular expressions (regex) provide a formal way of describing patterns in
strings. They form the foundation for pattern matching, and we will implement
them in our next project.
Components of Regular Expressions
A regular expression is constructed from two types of components:
</div><div class="SIntrapara"><ul><li><p><div class="SIntrapara">Basic Building Blocks
</div><div class="SIntrapara"><ul><li><p>Empty set (&#8709;): Matches nothing</p></li><li><p>Empty string (&#949;): Matches an empty string</p></li><li><p>Symbols (character literals) from the alphabet: Any character from &#931; (the alphabet)</p></li></ul></div></p></li><li><p><div class="SIntrapara">Operations on Building Blocks
</div><div class="SIntrapara"><ul><li><p>Union (|): Provides a choice between patterns</p></li><li><p>Concatenation (. or implicit): Joins patterns together</p></li><li><p>Kleene Star (*): Repeats a pattern zero or more times</p></li></ul></div></p></li><li><p>Building Complex Patterns</p><p>By applying these operations recursively, we can construct arbitrarily
 complex patterns from the basic building blocks. This compositional
 structure makes regular expressions both powerful and mathematically elegant.</p></li></ul></div></p><ul><li><p>"OCaml": Strings are matched exactly</p></li><li><p>"a|b": A vertical bar separates alternatives (Boolean OR)</p></li><li><p>"ab*": A quantifier (&lsquo;?&lsquo;, &lsquo;*&lsquo;, &lsquo;+&lsquo;, &lsquo;{n}&lsquo;) after an element specifies how many times the element is allowed to repeat</p></li></ul><h5 class="heading">4.2.1<tt>&nbsp;</tt><a name="(part._.Repetition_in_.Regular_.Expressions)"></a>Repetition in Regular Expressions<span class="button-group"><a href="#(part._.Repetition_in_.Regular_.Expressions)" class="heading-anchor" title="Link to here">ðŸ”—</a><span style="visibility: hidden"> </span></span></h5><p><div class="SIntrapara">The following are suffixes on a regular expression &lsquo;e&lsquo;:
</div><div class="SIntrapara"><table cellspacing="0" cellpadding="0"><tr><td><p><span style="font-weight: bold">Pattern</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Meaning</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Example</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Matches</span></p></td></tr><tr><td><p>e*</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>Zero or more occurrences of e</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>a*</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>"",a,aa,aaa, ...</p></td></tr><tr><td><p>e+</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>One or more occurrences of e (same as ee*)</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>a+</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>a,aa,aaa, ...</p></td></tr><tr><td><p>e?</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>Exactly zero or one e</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>a?</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>"",a</p></td></tr><tr><td><p>e{x}</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>Exactly x occurrences of e</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>a{3}</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>aaa</p></td></tr><tr><td><p>e{x,}</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>At least x occurrences of e</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>a{2,}</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>aa,aaa, ...</p></td></tr><tr><td><p>e{x,y}</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>At least x and at most y occurrences of e</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>a{2,4}</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>aa, aaa, aaaa</p></td></tr></table></div><div class="SIntrapara">For exmaple:
</div><div class="SIntrapara"><ul><li><p>&lsquo;bc*&lsquo; matches &lsquo;"b"&lsquo;, &lsquo;"bc"&lsquo;, &lsquo;"bcc"&lsquo;, ...</p></li><li><p>&lsquo;a+b*&lsquo; matches &lsquo;"a"&lsquo;, &lsquo;"ab"&lsquo;, &lsquo;"aa"&lsquo;, &lsquo;"aab"&lsquo;, &lsquo;"aabb"&lsquo;, &lsquo;"aabbb"&lsquo;, &lsquo;"aaa"&lsquo;, ...</p></li></ul></div></p><p>Precedence</p><ul><li><p>(OCaml)* means "", "OCaml", "OCamlOCaml", ...</p></li><li><p>OCaml* means "OCam", "OCaml", "OCamlllll", ...</p></li></ul><p>Best practice:Use parentheses to disambiguate. Note that parentheses also have another use: to extract matches (as we&rsquo;ll see with capturing groups).</p><h5 class="heading">4.2.2<tt>&nbsp;</tt><a name="(part._.Character_.Classes)"></a>Character Classes<span class="button-group"><a href="#(part._.Character_.Classes)" class="heading-anchor" title="Link to here">ðŸ”—</a><span style="visibility: hidden"> </span></span></h5><p><div class="SIntrapara">Character classes allow you to match one character from a set:
</div><div class="SIntrapara"><ul><li><p>[abcd]: Matches any of &lsquo;{"a", "b", "c", "d"}&lsquo; (can also be written as &lsquo;(a|b|c|d)&lsquo;)</p></li><li><p>[a-zA-Z0-9]: Matches any upper- or lower-case letter or digit</p></li><li><p>[^0-9]: Matches any character except 0-9 (the &lsquo;^&lsquo; means "not" and must come first)</p></li><li><p>[\t\n ]: Matches tab, newline, or space</p></li><li><p>[a-zA-Z_\$][a-zA-Z_\$0-9]*: Matches Java identifiers ($ escaped)</p></li></ul></div></p><p>Special Characters</p><ul><li><p>^: Beginning of line</p></li><li><p>$: End of line</p></li><li><p>\$: Literal dollar sign</p></li></ul><p>Note: Languages like Ruby and Python provide additional special characters.</p><p><div class="SIntrapara">Be careful with characters that have different meanings in different contexts:
</div><div class="SIntrapara"><ul><li><p><div class="SIntrapara">^
</div><div class="SIntrapara"><ul><li><p>Inside a character class: means "not" (e.g., &lsquo;[^0-9]&lsquo;)</p></li><li><p>Outside a character class: means beginning of line</p></li></ul></div></p></li><li><p><div class="SIntrapara">( )
</div><div class="SIntrapara"><ul><li><p>Inside character classes: literal characters
- Note: &lsquo;/(0..2)/&lsquo; does NOT mean 012</p></li><li><p>Outside character classes: used for grouping</p></li></ul></div></p></li><li><p><div class="SIntrapara">-
</div><div class="SIntrapara"><ul><li><p>Inside character classes: range (e.g., &lsquo;[a-z]&lsquo; means a to z)</p></li><li><p>Outside regular expressions: subtraction</p></li></ul></div></p></li></ul></div></p><h5 class="heading">4.2.3<tt>&nbsp;</tt><a name="(part._.Summary_of_.Regular_.Expression_.Syntax)"></a>Summary of Regular Expression Syntax<span class="button-group"><a href="#(part._.Summary_of_.Regular_.Expression_.Syntax)" class="heading-anchor" title="Link to here">ðŸ”—</a><span style="visibility: hidden"> </span></span></h5><p><div class="SIntrapara">Let &lsquo;re&lsquo; represent an arbitrary pattern:
</div><div class="SIntrapara"><ul><li><p>re &#8211; matches regexp &lsquo;re&lsquo;</p></li><li><p>(re1|re2) &#8211; match either &lsquo;re1&lsquo; or &lsquo;re2&lsquo;</p></li><li><p>(re)* &#8211; match 0 or more occurrences of &lsquo;re&lsquo;</p></li><li><p>(re)+ &#8211; match 1 or more occurrences of &lsquo;re&lsquo;</p></li><li><p>(re)? &#8211; match 0 or 1 occurrences of &lsquo;re&lsquo;</p></li><li><p>(re){2} &#8211; match exactly two occurrences of &lsquo;re&lsquo;</p></li><li><p>[a-z] &#8211; same as &lsquo;(a|b|c|...|z)&lsquo;</p></li><li><p>[^0-9] &#8211; match any character that is not 0, 1, etc.</p></li><li><p>^, $ &#8211; match start or end of string</p></li></ul></div></p><p>Try out regular expressions at <a href="rubular.com">rubular.com</a></p><h5 class="heading">4.2.4<tt>&nbsp;</tt><a name="(part._.Regular_.Expression_.Practice_.Problems)"></a>Regular Expression Practice Problems<span class="button-group"><a href="#(part._.Regular_.Expression_.Practice_.Problems)" class="heading-anchor" title="Link to here">ðŸ”—</a><span style="visibility: hidden"> </span></span></h5><ul><li><p>Any string containing two consecutive <span style="font-weight: bold">ab</span></p><p>(ab){2}</p></li><li><p>Any string containing <span style="font-weight: bold">a</span> or two consecutive <span style="font-weight: bold">b</span></p><p>a|bb</p></li><li><p>Contains <span style="font-weight: bold">sss</span> or <span style="font-weight: bold">ccc</span></p><p>s{3}|c{3}</p></li><li><p>Contains exactly 2 &lsquo;b&lsquo;&rsquo;s, not necessarily consecutive</p><p>^[^b]*b[^b]*b[^b]*$</p></li><li><p>Starts with <span style="font-weight: bold">c</span>, followed by <span style="font-weight: bold">one lowercase vowel</span>, and ends with <span style="font-weight: bold">any number of lowercase letters</span></p><p>^c[aeiou][a-z]*$</p></li><li><p>Starts with <span style="font-weight: bold">a</span> and has exactly 0 or 1 letter after that</p><p>^a[A-Za-z]?$</p></li><li><p>Only lowercase letters, in any amount, in alphabetic order</p><p>^a*b*c*d*e*f*g*h*i*j*k*l*m*n*o*p*q*r*s*t*u*v*w*x*y*z*$</p></li><li><p>Contains one or more <span style="font-weight: bold">ab</span> or <span style="font-weight: bold">ba</span></p><p>(ab|ba)+</p></li><li><p>Precisely <span style="font-weight: bold">steve</span>, <span style="font-weight: bold">steven</span>, or <span style="font-weight: bold">stephen</span></p><p>^ste(ve|ven|phen)$</p></li><li><p>Even length string</p><p>^(..)*$</p></li><li><p>Even number of lowercase vowels</p><p>^([^aeiou]*[aeiou][^aeiou]*[aeiou][^aeiou]*)*$</p></li><li><p>Starts with anything but &lsquo;b&lsquo;, followed by one or more &lsquo;a&lsquo;&rsquo;s and then no other characters</p><p>^[^b]a+$</p></li></ul><h5 class="heading">4.2.5<tt>&nbsp;</tt><a name="(part._.Basic_.Functions)"></a>Basic Functions<span class="button-group"><a href="#(part._.Basic_.Functions)" class="heading-anchor" title="Link to here">ðŸ”—</a><span style="visibility: hidden"> </span></span></h5><ul><li><p>matches: Extracts all matched substrings as a list</p></li><li><p>compile: Compiles a regular expression into an executable version that can be used to match strings</p></li><li><p>exec: Matches a string against the compiled expression and returns the matched groups if any</p></li><li><p>split: Splits a string into chunks separated by the regular expression</p></li></ul><h4 class="heading">4.3<tt>&nbsp;</tt><a name="(part._.Extracting_.Substrings_with_.Capturing_.Groups)"></a>Extracting Substrings with Capturing Groups<span class="button-group"><a href="#(part._.Extracting_.Substrings_with_.Capturing_.Groups)" class="heading-anchor" title="Link to here">ðŸ”—</a><span style="visibility: hidden"> </span></span></h4><p>Capturing groups allow you to extract specific parts of a matched string. The Re
 library remembers which strings matched the parenthesized parts of a regular expression.
 These parts can be referred to as groups.</p><p>Example: Capturing Groups
<div class="sourceCode" id="cb1"><pre
class="sourceCode ocaml"><code class="sourceCode ocaml"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="kw">let</span> r = str2re <span class="st">&quot;^Min:([0-9]+) Max:([0-9]+)$&quot;</span>;;</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="kw">let</span> t = Re.exec r <span class="st">&quot;Min:50 Max:99&quot;</span>;;Â  Â </span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="kw">let</span> <span class="dt">min</span> = Re.Group.get t <span class="dv">1</span>;; Â   <span class="co">(* 50 *)</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="kw">let</span> <span class="dt">max</span> = Re.Group.get t <span class="dv">2</span>;; Â   <span class="co">(* 99 *)</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>Input:</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>Min:<span class="dv">1</span> Max:<span class="dv">27</span></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>Min:<span class="dv">10</span> Max:<span class="dv">30</span></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>Min:  <span class="dv">11</span> Max: <span class="dv">30</span></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>Min: a Max: <span class="dv">24</span></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a>Desired Output:</span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a><span class="dt">min</span>=<span class="dv">1</span> <span class="dt">max</span>=<span class="dv">27</span></span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a><span class="dt">min</span>=<span class="dv">10</span> <span class="dt">max</span>=<span class="dv">30</span></span></code></pre></div>
</p><p>By using capturing groups with parentheses, you can extract the numeric values and reformat the output accordingly.</p><div class="navsetbottom"><span class="navleft"><div class="nosearchform"></div>&nbsp;&nbsp;<span class="tocsettoggle">&nbsp;&nbsp;<a href="javascript:void(0);" title="show/hide table of contents" onclick="TocsetToggle();">contents</a></span></span><span class="navright">&nbsp;&nbsp;<a href="pbt.html" title="backward to &quot;3 Property-Based Randomized Testing&quot;" data-pltdoc="x" rel="prev">&larr; prev</a>&nbsp;&nbsp;<a href="index.html" title="up to &quot;CMSC 330 Lecture Notes&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<span class="nonavigation">next &rarr;</span></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div></body></html>
